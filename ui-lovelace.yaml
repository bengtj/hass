title: Hemma hos LMMB

views:
  # Overview tab
  - icon: mdi:home-assistant
    id: overview
    title: Overview
#    type: custom:masonry-layout
    layout:
      width: 365
    cards:
      # Floor plan
      - type: picture-elements
        image: /local/planskiss.png
        elements:
          # Hus sidovy
          - type: state-label # state-icon
            entity: weather.smhi_smhi
            style:
              top: 1.7%
              left: 11%
          - type: state-label
            entity: sensor.ute_temperature
            style:
              top: 4%
              left: 28%
          - type: state-label
            entity: sensor.vind_temperature
            style:
              top: 6.5%
              left: 16.5%
          - type: state-label
            entity: sensor.inne_temperature
            style:
              top: 9.5%
              left: 16.5%
          - type: state-label
            entity: sensor.grund_humidity
            style:
              top: 12.6%
              left: 17%
          - type: state-label
            entity: sensor.power
            style:
              top: 16%
              left: 16.5%
          - type: state-label
            entity: sensor.nordpool_se3
            style:
              top: 20%
              left: 16.5%
          - type: state-icon
            entity: sensor.energy_daily
            style:
              top: 24%
              left: 9%
          - type: state-icon
            entity: sensor.energy_monthly
            style:
              top: 24%
              left: 16%
          - type: state-icon
            entity: sensor.energy_yearly
            style:
              top: 24%
              left: 23%
          - type: state-icon
            entity: switch.friggebod_lock
            style:
              top: 30%
              left: 7%
          # Sovrum
          - type: state-icon
            entity: light.sovfonster
            tap_action:
              action: toggle
            style:
              top: 10%
              left: 41%
          - type: state-icon
            entity: light.sanggavel
            tap_action:
              action: toggle
            style:
              top: 6%
              left: 51%
          - type: state-icon
            entity: light.sovtak
            tap_action:
              action: toggle
            style:
              top: 14%
              left: 51%
          - type: state-label
            entity: sensor.sovrum_ute_temperature
            style:
              top: 16%
              left: 31%
          - type: state-label
            entity: sensor.sovrum_temperature
            style:
              top: 10%
              left: 53%
          - type: state-label
            entity: sensor.sovrum_humidity
            style:
              top: 16%
              left: 43.5%
          # - type: state-icon
          #   entity: vacuum.snovit
          #   style:
          #     top: 6%
          #     left: 63%
          - type: state-icon
            entity: vacuum.purjo
            style:
              top: 94%
              left: 63%
          # Maltes rum
          - type: state-icon
            entity: light.maltes_vagg
            tap_action:
              action: toggle
            style:
              top: 6%
              left: 73%
          - type: state-icon
            entity: light.maltes_fonster
            tap_action:
              action: toggle
            style:
              top: 13%
              left: 85%
          - type: state-icon
            entity: light.maltes_tak
            tap_action:
              action: toggle
            style:
              top: 11%
              left: 77%
          - type: state-label
            entity: sensor.malte_temperature
            style:
              top: 16%
              left: 75%
          - type: state-label
            entity: sensor.malte_humidity
            style:
              top: 20%
              left: 83%
          - type: state-label
            entity: sensor.malte_ute_temperature
            style:
              top: 9%
              left: 94%
          # Linas rum
          - type: state-icon
            entity: light.linas_fonster
            tap_action:
              action: toggle
            style:
              top: 26%
              left: 41%
          - type: state-icon
            entity: light.linas_tak
            tap_action:
              action: toggle
            style:
              top: 24%
              left: 49%
          - type: state-icon
            entity: light.linas_sang
            tap_action:
              action: toggle
            style:
              top: 32%
              left: 41%
          - type: state-icon
            entity: light.linas_vagg
            tap_action:
              action: toggle
            style:
              top: 32%
              left: 55%
          - type: state-label
            entity: sensor.lina_ute_temperature
            style:
              top: 32%
              left: 31%
          - type: state-label
            entity: sensor.lina_temperature
            style:
              top: 28.5%
              left: 50%
          - type: state-label
            entity: sensor.lina_humidity
            style:
              top: 32%
              left: 48%
          # Sovrumsgång
          - type: state-icon
            entity: light.sovrumsgang
            tap_action:
              action: toggle
            style:
              top: 26%
              left: 63%
          # Badrum
          - type: state-icon
            entity: light.badrumsskap
            tap_action:
              action: toggle
            style:
              top: 28%
              left: 75%
          - type: state-icon
            entity: binary_sensor.badrum_motion
            style:
              top: 25%
              left: 84%
          # Kök
          - type: state-icon
            entity: light.matbord_upp
            tap_action:
              action: toggle
            style:
              top: 38%
              left: 51%
          - type: state-icon
            entity: light.matbord_ned
            tap_action:
              action: toggle
            style:
              top: 42%
              left: 51%
          - type: state-icon
            entity: light.kokstake
            tap_action:
              action: toggle
            style:
              top: 40%
              left: 41%
          - type: state-icon
            entity: light.koksfonster
            tap_action:
              action: toggle
            style:
              top: 44.5%
              left: 41%
          - type: state-icon
            entity: light.kokstak
            tap_action:
              action: toggle
            style:
              top: 51.5%
              left: 55%
          - type: state-label
            entity: sensor.kyl_v_temperature
            style:
              top: 51.5%
              left: 42%
              font-size: 61%
          - type: state-label
            entity: sensor.frys_v_temperature
            style:
              top: 54%
              left: 42.5%
              font-size: 61%
          - type: state-label
            entity: sensor.kyl_h_temperature
            style:
              top: 51.5%
              left: 48%
              font-size: 61%
          - type: state-label
            entity: sensor.frys_h_temperature
            style:
              top: 54%
              left: 50%
              font-size: 61%
          # Tvättstuga
          - type: state-icon
            entity: light.tvatt_tak
            tap_action:
              action: toggle
            style:
              top: 38.5%
              left: 77%
          - type: state-icon
            entity: binary_sensor.tvatt_motion
            style:
              top: 38.5%
              left: 84%
          - type: state-icon
            entity: climate.supply
            style:
              top: 33%
              left: 70%
          - type: state-icon
            entity: climate.room
            style:
              top: 33%
              left: 75.5%
          - type: state-icon
            entity: water_heater.supply
            style:
              top: 33%
              left: 81%
          - type: state-icon
            entity: fan.ventilation
            style:
              top: 33%
              left: 85.5%
          # Hall
          - type: state-icon
            entity: binary_sensor.hall_motion
            style:
              top: 54%
              left: 63%
          - type: state-icon
            entity: light.halltak
            tap_action:
              action: toggle
            style:
              top: 54%
              left: 79%
          - type: state-icon
            entity: light.hallgo
            tap_action:
              action: toggle
            style:
              top: 56.5%
              left: 70%
          - type: state-icon
            entity: light.hallstake
            tap_action:
              action: toggle
            style:
              top: 56.5%
              left: 75%
          # Klädkammaren
          - type: state-icon
            entity: light.kammartak
            tap_action:
              action: toggle
            style:
              top: 47%
              left: 70%
          - type: state-icon
            entity: binary_sensor.kammare_motion
            style:
              top: 47%
              left: 73%
          # Lilla toaletten
          - type: state-icon
            entity: light.toalett
            tap_action:
              action: toggle
            style:
              top: 47%
              left: 79%
          - type: state-icon
            entity: binary_sensor.toa_motion
            style:
              top: 47%
              left: 84%
          # Entré
          - type: state-icon
            entity: switch.takfot
            tap_action:
              action: toggle
            style:
              top: 27%
              left: 92%
          - type: state-icon # [JUL]
            entity: switch.juleljus
            tap_action:
              action: toggle
            style:
              top: 31%
              left: 92%
          - type: state-icon
            entity: binary_sensor.entre_motion
            tap_action:
              action: toggle
            style:
              top: 40%
              left: 92%
          - type: state-icon
            entity: light.entrevagg
            tap_action:
              action: toggle
            style:
              top: 47%
              left: 91%
          - type: state-icon
            entity: light.sexan
            tap_action:
              action: toggle
            style:
              top: 59%
              left: 91.4%
          - type: state-icon
            entity: light.entreslinga
            tap_action:
              action: toggle
            style:
              top: 69%
              left: 91.4%
          - type: state-icon
            entity: light.entrestolpe_1
            tap_action:
              action: toggle
            style:
              top: 49%
              left: 98%
          - type: state-icon
            entity: light.entrestolpe_2
            tap_action:
              action: toggle
            style:
              top: 54%
              left: 97%
          - type: state-icon
            entity: light.entrebuske
            tap_action:
              action: toggle
            style:
              top: 64%
              left: 98%
          - type: state-icon
            entity: light.entrestolpe_3
            tap_action:
              action: toggle
            style:
              top: 76%
              left: 97%
          - type: state-label
            entity: sensor.entre_ute_temperature
            style:
              top: 82%
              left: 92%
          - type: state-label
            entity: sensor.entre_ute_humidity
            style:
              top: 85%
              left: 92%
          # Altan
          - type: state-icon
            entity: binary_sensor.altan_motion
            style:
              top: 40%
              left: 9%
          # - type: state-icon # [JUL]
          #   entity: light.extraslinga
          #   tap_action:
          #     action: toggle
          #   style:
          #     top: 40%
          #     left: 25%
          # - type: state-icon # [JUL]
          #   entity: switch.altanjul
          #   tap_action:
          #     action: toggle
          #   style:
          #     top: 45%
          #     left: 25%
          # - type: state-icon # [JUL]
          #   entity: switch.istappar
          #   tap_action:
          #     action: toggle
          #   style:
          #     top: 50%
          #     left: 25%
          - type: state-icon
            entity: light.altanstolpe_1
            tap_action:
              action: toggle
            style:
              top: 63%
              left: 15%
          - type: state-icon
            entity: light.altanstolpe_2
            tap_action:
              action: toggle
            style:
              top: 63%
              left: 7%
          - type: state-icon
            entity: light.altanstolpe_3
            tap_action:
              action: toggle
            style:
              top: 45%
              left: 15%
          - type: state-icon
            entity: light.altanstolpe_4
            tap_action:
              action: toggle
            style:
              top: 45%
              left: 7%
          - type: state-icon
            entity: light.altanfontan
            tap_action:
              action: toggle
            style:
              top: 51%
              left: 11%
          - type: state-icon
            entity: light.altanbonsai
            tap_action:
              action: toggle
            style:
              top: 57%
              left: 11%
          - type: state-icon
            entity: light.altanvagg
            tap_action:
              action: toggle
            style:
              top: 67.7%
              left: 33%
          - type: state-icon
            entity: light.altanslinga
            tap_action:
              action: toggle
            style:
              top: 61%
              left: 35%
          - type: state-label
            entity: sensor.altan_ute_temperature
            style:
              top: 58%
              left: 23%
          - type: state-label
            entity: sensor.altan_ute_humidity
            style:
              top: 61%
              left: 23%
          # Vardagsrum
          - type: state-icon
            entity: light.altanfonster
            tap_action:
              action: toggle
            style:
              top: 64%
              left: 41%
          - type: state-icon
            entity: light.golvlampa
            tap_action:
              action: toggle
            style:
              top: 61.5%
              left: 48%
          # - type: state-icon # [JUL]
          #   entity: switch.granen
          #   tap_action:
          #     action: toggle
          #   style:
          #     top: 62%
          #     left: 55%
          - type: state-icon
            entity: light.tak_h
            tap_action:
              action: toggle
            style:
              top: 68%
              left: 50%
          - type: state-icon
            entity: light.tak_v
            tap_action:
              action: toggle
            style:
              top: 68%
              left: 75%
          - type: state-icon
            entity: light.vardagstake
            tap_action:
              action: toggle
            style:
              top: 65%
              left: 85%
          - type: state-icon
            entity: light.vardagsfonster
            tap_action:
              action: toggle
            style:
              top: 70%
              left: 85%
          - type: state-icon
            entity: light.hornlampa
            tap_action:
              action: toggle
            style:
              top: 75%
              left: 85%
          - type: state-icon
            entity: switch.speltv
            style:
              top: 75.5%
              left: 79%
          - type: state-icon
            entity: light.bordslampa
            tap_action:
              action: toggle
            style:
              top: 75.5%
              left: 72%
          - type: state-icon
            entity: light.huego
            tap_action:
              action: toggle
            style:
              top: 76%
              left: 63.4%
          - type: state-icon
            entity: light.vitrinskap
            tap_action:
              action: toggle
            style:
              top: 75.5%
              left: 48%
          - type: state-label
            entity: sensor.vardagsrum_temperature
            style:
              top: 65.5%
              left: 63%
          - type: state-icon
            entity: switch.ac
            style:
              top: 62%
              left: 76%
          # Relax
          - type: state-icon
            entity: light.relaxgang
            tap_action:
              action: toggle
            style:
              top: 74.5%
              left: 34%
          - type: state-icon
            entity: light.plantljus
            tap_action:
              action: toggle
            style:
              top: 69.5%
              left: 16%
          - type: state-icon
            entity: light.plantfonster
            tap_action:
              action: toggle
            style:
              top: 72.5%
              left: 22%
          - type: state-icon
            entity: light.relaxtak
            tap_action:
              action: toggle
            style:
              top: 78%
              left: 20%
          - type: state-label
            entity: sensor.relax_temperature
            style:
              top: 83.5%
              left: 20%
          - type: state-icon
            entity: light.datatak
            tap_action:
              action: toggle
            style:
              top: 88.5%
              left: 20%
          - type: state-icon
            entity: light.datafonster
            tap_action:
              action: toggle
            style:
              top: 94.5%
              left: 17%
          - type: state-icon
            entity: light.skarm
            tap_action:
              action: toggle
            style:
              top: 94.5%
              left: 23%
          # Relaxbad
          - type: state-icon
            entity: light.relaxbad_tak_1
            tap_action:
              action: toggle
            style:
              top: 93%
              left: 9%
          - type: state-icon
            entity: light.relaxbad_tak_2
            tap_action:
              action: toggle
            style:
              top: 83%
              left: 9%
          # Garage
          - type: state-icon
            entity: binary_sensor.garage_motion
            style:
              top: 88%
              left: 50%
          - type: state-label
            entity: sensor.garagefrys_temperature
            style:
              top: 83%
              left: 39%
              font-size: 61%
          - type: state-label
            entity: sensor.garagekyl_temperature
            style:
              top: 80.5%
              left: 46%
              font-size: 61%
          - type: state-label
            entity: sensor.garage_temperature 
            style:
              top: 85.5%
              left: 58%
          - type: state-icon
            entity: light.garageslinga
            tap_action:
              action: toggle
            style:
              top: 81%
              left: 31%
          - type: state-icon
            entity: light.golvflakt
            tap_action:
              action: toggle
            style:
              top: 94.5%
              left: 31%
          - type: state-icon
            entity: light.skrivare
            tap_action:
              action: toggle
            style:
              top: 94.5%
              left: 37%
          - type: state-icon
            entity: light.garagefonster
            tap_action:
              action: toggle
            style:
              top: 95%
              left: 43.5%
          - type: state-icon
            entity: light.material
            tap_action:
              action: toggle
            style:
              top: 94.5%
              left: 50%
          - type: state-icon
            entity: light.atervinning
            tap_action:
              action: toggle
            style:
              top: 94%
              left: 80%
          - type: state-icon
            entity: light.garageport
            tap_action:
              action: toggle
            style:
              top: 94%
              left: 88%
          - type: state-icon
            entity: light.garageplanta
            tap_action:
              action: toggle
            style:
              top: 98%
              left: 83%
      # Tracker locations
      - type: glance
        entities:
          - device_tracker.bengts_mobil
          - device_tracker.marias_mobil
          - device_tracker.maltes_mobil
          - device_tracker.linas_mobil
      # Yr forecast picture
      - type: picture-entity
        entity: camera.yr_vader
        show_name: false
        show_state: false
      # Västtrafik frame, https through proxy from http://wap.vasttrafik.se
      - type: iframe
        url: !secret vt_url
        aspect_ratio: 75%

  # Weather tab
  - icon: mdi:weather-partly-rainy
    id: weather
    title: Weather
#    type: custom:masonry-layout
    layout:
       width: 365
    cards:
      # windy.com
      #- type: iframe
      #  url: !secret windy_url
      #  aspect_ratio: 100%
      # YR meteogram image
      - type: picture-entity
        entity: camera.yr_vader
        show_name: false
        show_state: false
      # SMHI
      - type: weather-forecast
        name: SMHI Väder Stora Höga 
        entity: weather.smhi_smhi
      # Dark sky card, https://blog.darksky.net/forecast-embeds/
      - type: iframe
        url: !secret darksky_url
      # Temp sensor history
      - type: history-graph
        title: Historik 3 dagar
        hours_to_show: 72
        entities:
          - entity: sensor.inne_temperature
            name: Innetemp
          - entity: sensor.ute_temperature
            name: Utetemp
          - entity: sensor.nordpool_se3
            name: Nordpool SE3

  # Camera tab
  - icon: mdi:cctv
    id: camera
    title: Kameror
    cards:
      - type: picture-entity
        entity: camera.altan
        show_state: false
      - type: picture-entity
        entity: camera.plantfonster
        show_state: false
      - type: picture-entity
        entity: camera.altanfonster
        show_state: false
      - type: picture-entity
        entity: camera.koksfonster
        show_state: false
      - type: picture-entity
        entity: camera.garage
        show_state: false
      - type: entity-filter
        entities:
          - device_tracker.bengts_mobil
          - device_tracker.bengt_lan
          - device_tracker.marias_mobil
          - device_tracker.maria_lan
          - device_tracker.maltes_mobil
          - device_tracker.malte_lan
          - device_tracker.linas_mobil
          - device_tracker.lina_lan
        state_filter:
          - home
        card: 
          type: glance

  # Map tab
  - icon: mdi:map-search-outline
    type: panel
    id: map
    title: Kartan
    cards:
     - type: map
       aspect_ratio: 150%
       entities:
         - device_tracker.bengts_mobil
         - device_tracker.marias_mobil
         - device_tracker.maltes_mobil
         - device_tracker.linas_mobil
         - zone.home
         - zone.julia
#         - zone.oliver
#         - zone.elliot
         - zone.skolan
         - zone.hemkopco
         - zone.barnens_byvag
         - zone.getskar
         - zone.ericsson
         - zone.saab
         - zone.liseberg
         - zone.sundahallen
         - zone.fregatten

  # Server tab
  - icon: mdi:server-network
    id: server
    title: Server
    cards:
      # Server card
      - type: entities
        title: Server
        show_header_toggle: false
        entities:
          - sensor.maltes_minecraft_players_online
          - sensor.linas_minecraft_players_online
#          - sensor.r7000_014d_kb_sec_received
#          - sensor.r7000_014d_kb_sec_sent
      # Vacuum cards, be sure to disable adguard when registering roborock with xiaomi account
      - type: entities
        title: Snövit
        entities:
          - entity: vacuum.snovit
            show_state: true
          - entity: sensor.snovit_last_clean_area
            show_state: true
          - entity: sensor.snovit_last_clean_duration
            show_state: true
          - entity: sensor.snovit_last_clean_start
            show_state: true
          - entity: sensor.snovit_last_clean_end
            show_state: true
      - type: picture-glance
        title: Purjo
        entities:
          - entity: vacuum.purjo
            show_state: true
          - entity: switch.purjo_schedule
            show_state: true
        entity: vacuum.purjo
        camera_image: camera.purjo_cleaning_map
      # 3D print cards
      - type: entities
        title: Octoprint
        show_header_toggle: false
        entities:
          - sensor.octoprint_current_state
          - sensor.octoprint_job_percentage
          - sensor.octoprint_estimated_finish_time
      - type: picture-glance
        title: Octoprint Cam 1
        entities:
          - entity: sensor.octoprint_job_percentage
            show_state: true
        camera_image: camera.print
        camera_view: live
      - type: picture-glance
        title: Octoprint Cam 2
        entities:
          - entity: sensor.octoprint_job_percentage
            show_state: true
        camera_image: camera.octoprint
        camera_view: live

  # Calendar tab
#  - icon: mdi:calendar-clock
#    id: calendar
#    title: Kalender
#    cards:
#      - type: iframe
#        url: !secret maria_calendar
#        aspect_ratio: 100%
#      - type: iframe
#        url: !secret bengt_calendar
#        aspect_ratio: 100%

  # Light tab
  - icon: mdi:lightbulb-outline
    id: light
    title: Belysning
    cards:
      - type: entities
        title: Belysning
        show_header_toggle: false
        icon: mdi:home-outline
        entities:
          - group.belysning_all
          - group.belysning_dag
          - group.belysning_sovrum
          - group.belysning_ute
          - input_select.scen
      - type: custom:auto-entities
        card:
          type: glance
          title: Belysning dag
        filter:
          include:
            - group: group.belysning_dag
      - type: custom:auto-entities
        card:
          type: glance
          title: Belysning sovrum
        filter:
          include:
            - group: group.belysning_sovrum
      - type: custom:auto-entities
        card:
          type: glance
          title: Belysning ute
        filter:
          include:
            - group: group.belysning_ute
            - entity_id: light.entre
            - entity_id: light.altan
      - type: custom:auto-entities
        card:
          type: glance
          title: Övrigt
        filter:
          include:
            - group: group.ovrigtljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Sovrum
        filter:
          include:
            - group: group.sovrumsljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Maltes rum
        filter:
          include:
            - group: group.maltes_ljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Linas rum
        filter:
          include:
            - group: group.linas_ljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Hall
        filter:
          include:
            - group: group.halljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Kök
        filter:
          include:
            - group: group.koksljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Vardagsrum
        filter:
          include:
            - group: group.vardagsrumsljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Relax
        filter:
          include:
            - group: group.relaxljus
            - entity_id: switch.bioduk
      - type: custom:auto-entities
        card:
          type: glance
          title: Garage
        filter:
          include:
            - group: group.garageljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Ute
        filter:
          include:
            - group: group.uteljus
      - type: custom:auto-entities
        card:
          type: glance
          title: Fluxljus
        filter:
          include:
            - group: group.fluxljus

  # Media tab
  - icon: mdi:music
    id: media
    title: Media
    cards:
      # Remotes card
      - type: entities
        title: Kontroll
        show_header_toggle: false
        entities:
          - type: weblink
            name: LMS
            url: http://192.168.0.10:9000/material/
            icon: mdi:archive-music
          - remote.vardagsharmoni
        #  - media_player.vardagsdenon
      # Spotify card:
      - type: entities
        title: Spotify
        show_header_toggle: false
        entities:
          - media_player.spotify_bengt_johannesson
          - media_player.spotify_maria_vahnberg
          - media_player.spotify_saltymalty
          - media_player.spotify_lina_maria_johannesson
      # Squeezebox card
      # Disable "squeezecast" entitites and have playlists on players to avoid log messages.
      - type: entities
        title: Squeezebox
        show_header_toggle: false
        entities:
          - media_player.sovrumsradio
          - media_player.linasradio
          - media_player.maltesradio
          - media_player.tvattradio
          - media_player.vardagstouch
          - media_player.altanfonsterradio
      # Chromecast card
      - type: entities
        title: Chromecast
        show_header_toggle: false
        entities:
          - media_player.vardagsshield
          - media_player.relaxshield
          - media_player.linashield
          - media_player.garagecast
        #  - media_player.maltecast
      # Google home card
      - type: entities
        title: Google Home
        show_header_toggle: false
        entities:
          - media_player.sovhome
          - media_player.badhome
          - media_player.tvatthome
          - media_player.kokshome
          - media_player.altanhome
          - media_player.garagehome
      - type: entities
        title: Google Nest
        show_header_toggle: false
        entities:
          - media_player.kokshub
          - media_player.vardagshub
          - media_player.hallhub
          - media_player.linahub
          - media_player.maltehub
      # Squueezecast card
      # - type: entities
      #   title: Squeezecast
      #   show_header_toggle: false
      #   entities:
      #     - media_player.kokssqueezecast
      #     - media_player.altansqueezecast
      #     - media_player.vardagssqueezecast
      #     - media_player.datasqueezecast
      #     - media_player.garagesqueezecast
      #     - media_player.maltesqueezecast
      #     - media_player.linasqueezecast
